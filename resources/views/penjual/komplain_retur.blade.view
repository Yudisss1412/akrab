<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <title>Komplain & Retur â€” AKRAB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ asset('css/admin_penjual/style.css') }}">
  <link rel="stylesheet" href="{{ asset('css/penjual/komplain_retur.css') }}">
</head>
<body>
  @include('components.admin_penjual.header')

  <div class="main-layout">
    <div class="content-wrapper">
      <main class="content admin-page-content" role="main">
        <!-- Page Header -->
        <section class="page-header">
          <h1>
            <a href="{{ route('seller.dashboard') }}" class="btn btn-sm" style="margin-right: 1rem; vertical-align: middle; background: var(--ak-primary); color: white; border: none; width: 32px; height: 32px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; text-decoration: none;">
              <i class="fas fa-arrow-left"></i>
            </a>
            Komplain & Retur untuk {{ auth()->user()->name }}
          </h1>
        </section>

        <!-- Tab Navigation -->
        <div class="tab-nav">
          <div class="tab-item active" data-tab="complaints">
            Komplain
            <span class="badge">0</span>
          </div>
          <div class="tab-item" data-tab="returns">
            Retur
            <span class="badge">0</span>
          </div>
        </div>

        <!-- Tab Content: Complaints -->
        <div id="complaints-tab" class="tab-content active">
          <!-- Filter Row for Complaints -->
          <div class="filter-row">
            <div class="filter-group">
              <label for="filter-star-complaints">Filter berdasarkan Bintang</label>
              <select id="filter-star-complaints" class="filter-control">
                <option value="">Semua Bintang</option>
                <option value="1">1 Bintang</option>
                <option value="2">2 Bintang</option>
              </select>
            </div>

            <div class="filter-group">
              <label for="filter-reply-complaints">Filter berdasarkan Status Balasan</label>
              <select id="filter-reply-complaints" class="filter-control">
                <option value="">Semua Status</option>
                <option value="replied">Telah Dibalas</option>
                <option value="pending">Belum Dibalas</option>
              </select>
            </div>

            <div class="filter-group">
              <label for="sort-by-complaints">Urutkan berdasarkan</label>
              <select id="sort-by-complaints" class="filter-control">
                <option value="newest">Terbaru</option>
                <option value="oldest">Terlama</option>
                <option value="highest">Rating Tertinggi</option>
                <option value="lowest">Rating Terendah</option>
              </select>
            </div>
          </div>

          <section class="items-container">
            <!-- Complaints will be loaded dynamically -->
          </section>
        </div>

        <!-- Tab Content: Returns -->
        <div id="returns-tab" class="tab-content">
          <!-- Filter Row for Returns -->
          <div class="filter-row">
            <div class="filter-group">
              <label for="filter-status-returns">Filter berdasarkan Status</label>
              <select id="filter-status-returns" class="filter-control">
                <option value="">Semua Status</option>
                <option value="pending">Menunggu</option>
                <option value="approved">Disetujui</option>
                <option value="rejected">Ditolak</option>
                <option value="completed">Selesai</option>
              </select>
            </div>

            <div class="filter-group">
              <label>&nbsp;</label>
              <div style="display: flex; gap: 0.5rem;">
                <a href="{{ route('seller.reviews.index') }}" class="btn btn-primary">Lihat Semua Ulasan</a>
              </div>
            </div>
          </div>

          <section class="items-container">
            <!-- Returns will be loaded dynamically -->
          </section>
        </div>
      </main>
    </div>
  </div>

  @include('components.admin_penjual.footer')

  <script>
    // CSRF token meta tag
    const csrfToken = document.head.querySelector('meta[name=csrf-token]');
    if (!csrfToken) {
      // Create CSRF token meta tag if not exists
      const meta = document.createElement('meta');
      meta.name = 'csrf-token';
      meta.content = '{{ csrf_token() }}';
      document.head.appendChild(meta);
    }
  </script>
  <script src="{{ asset('js/penjual/komplain_retur.js') }}"></script>
</body>
</html>